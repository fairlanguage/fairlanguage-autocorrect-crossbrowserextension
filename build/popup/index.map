{"version":3,"sources":["../../config.js","controller/storage.js","index.js"],"names":["default","enabled","active","toolbar","options","settingsString","hostString","consent","host","dev","colors","primary","gradient","height","opacity","StorageController","Promise","resolve","reject","chrome","storage","local","get","settings","set","Error","mode","currentHost","window","location","hostname","console","log","hosts","name","find","hostInStorage","push","index","indexOf","captionSettings","document","getElementById","displaySettings","style","display","config","captionEnabled","statusEnabled","buttonEnabled","captionConsent","statusConsent","buttonConsent","captionHost","stringHost","displayHost","buttonHostEnable","buttonHostDisable","captionToolbar","statusToolbar","buttonToolbar","captionDev","statusHosts","buttonResetHosts","captionVersion","displayVersion","getSettings","then","value","JSON","stringify","textContent","catch","error","getCurrentHostSettings","tabs","query","currentWindow","currentHostname","URL","url","getHostSettings","getHosts","length","addEventListener","sendMessage","id","command","runtime","onMessage","addListener","undefined","_settings","resetAllHosts","manifest","version"],"mappings":"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","file":"index.map","sourceRoot":"..\\..\\src\\popup","sourcesContent":["export default {\n  default: {\n    enabled: true,\n    active: null,\n    toolbar: true,\n  },\n  options: {\n    settingsString: false,\n    hostString: false,\n    enabled: false,\n    consent: true,\n    host: true,\n    toolbar: false,\n    dev: false,\n  },\n  colors: {\n    primary: ['#40B3FF', '#6652FF', '#F022EB', '#EBEBFF'],\n    gradient: 'linear-gradient(to bottom, #4a9fe0 0%,#e102ff 100%)',\n  },\n  toolbar: {\n    height: '150px',\n    opacity: 1,\n  },\n};\n","export default class StorageController {\r\n\r\n  constructor() {\r\n    return 'I controll the storage.';\r\n  }\r\n\r\n  static getSettings() {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      chrome.storage.local.get(['settings'], (storage) => {\r\n\r\n        if (storage.settings) {\r\n          resolve(storage.settings);\r\n        } else {\r\n          const settings = {\r\n            enabled: true,\r\n            consent: false,\r\n            toolbar: false,\r\n          };\r\n    \r\n          chrome.storage.local.set({ settings }, () => {\r\n            resolve(settings);\r\n          });\r\n        }\r\n\r\n        reject(new Error('Reading settings from local storage'));\r\n      \r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  static setEnabled(mode = 'toggle') {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      chrome.storage.local.get(['settings'], (storage) => {\r\n\r\n        const settings = storage.settings;\r\n\r\n        //console.log(settings)\r\n\r\n        settings.enabled = mode === 'toggle' ? !settings.enabled : mode;\r\n\r\n        //console.log(settings)\r\n\r\n        chrome.storage.local.set({ settings: settings }, () => {\r\n\r\n          if (settings) {\r\n            resolve(settings.consent);\r\n          } else {\r\n            reject(new Error('Writing enabled settings to local storage'));\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  static setConsent(mode = 'toggle') {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      chrome.storage.local.get(['settings'], (storage) => {\r\n\r\n        const settings = storage.settings;\r\n\r\n        //console.log(settings)\r\n\r\n        settings.consent = mode === 'toggle' ? !settings.consent : mode;\r\n\r\n        //console.log(settings)\r\n\r\n        chrome.storage.local.set({ settings: settings }, () => {\r\n\r\n          if (settings) {\r\n            resolve(settings.consent);\r\n          } else {\r\n            reject(new Error('Writing consent settings to local storage'));\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  static setToolbar(mode = 'toggle') {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      chrome.storage.local.get(['settings'], (storage) => {\r\n\r\n        const settings = storage.settings;\r\n\r\n        //console.log(settings)\r\n\r\n        settings.toolbar = mode === 'toggle' ? !settings.toolbar : mode;\r\n\r\n        //console.log(settings)\r\n\r\n        chrome.storage.local.set({ settings: settings }, () => {\r\n\r\n          if (settings) {\r\n            resolve(settings.toolbar);\r\n          } else {\r\n            reject(new Error('Writing toolbar settings to local storage'));\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  static getHostSettings(currentHost = window.location.hostname) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      let settings;\r\n\r\n      chrome.storage.local.get(['hosts'], (storage) => {\r\n\r\n        console.log(storage.hosts)\r\n\r\n        // If there aren't any entries, start with this one\r\n        if (!storage.hosts) {\r\n          settings = {\r\n            enabled: null,\r\n            name: currentHost,\r\n          };\r\n    \r\n          chrome.storage.local.set({ hosts: [settings] }, () => {\r\n            resolve(settings);\r\n          });\r\n        }\r\n\r\n        // Look up this host\r\n        settings = storage.hosts.find(hostInStorage => hostInStorage.name === currentHost);\r\n\r\n        if (settings) {\r\n          resolve(settings);\r\n        } else {\r\n\r\n          // No settings for this host yet, make an empty entry\r\n          settings = {\r\n            enabled: null,\r\n            name: currentHost,\r\n          };\r\n\r\n          storage.hosts.push(settings);\r\n          \r\n          chrome.storage.local.set({ hosts: storage.hosts }, () => {\r\n            resolve(settings);\r\n          });\r\n\r\n        }\r\n\r\n        reject(new Error('Reading host settings from local storage'));\r\n      \r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  static setHost(mode = 'toggle') {\r\n\r\n    const currentHost = window.location.hostname;\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      chrome.storage.local.get(['hosts'], (storage) => {\r\n\r\n        if (storage.hosts) {\r\n\r\n          const settings = storage.hosts.find(hostInStorage => hostInStorage.name === currentHost);\r\n\r\n          const index =  storage.hosts.indexOf(settings);\r\n\r\n          storage.hosts[index].enabled = mode === 'toggle' ? !storage.hosts[index].enabled : mode; \r\n\r\n          chrome.storage.local.set({ hosts: storage.hosts }, () => {\r\n\r\n            if (settings) resolve(storage.hosts[index]);\r\n\r\n          });\r\n\r\n        }\r\n      \r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  static getHosts() {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      chrome.storage.local.get(['hosts'], (storage) => {\r\n\r\n        if (storage.hosts) resolve(storage.hosts);\r\n\r\n        reject(new Error('Reading host settings from local storage'));\r\n      \r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  static resetAllHosts() {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      chrome.storage.local.set({ hosts: [] }, () => {\r\n\r\n        resolve(true);\r\n\r\n      });\r\n\r\n      reject(new Error('No resetting hosts'));\r\n\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","import * as manifest from '../../manifest.json';\n\nimport config from '../../config';\n\nimport StorageController from '../controller/storage';\n\nconst captionSettings = document.getElementById('caption-settings');\nconst displaySettings = document.getElementById('string-settings');\n\ncaptionSettings.style.display = config.options.settingsString ? 'flex' : 'none';\ndisplaySettings.style.display = config.options.settingsString ? 'flex' : 'none';\n\nconst captionEnabled = document.getElementById('caption-enabled');\nconst statusEnabled = document.getElementById('status-enabled');\nconst buttonEnabled = document.getElementById('button-enabled');\n\nstatusEnabled.style.display = config.options.enabled ? 'flex' : 'none';\nbuttonEnabled.style.display = config.options.enabled ? 'flex' : 'none';\ncaptionEnabled.style.display = config.options.enabled ? 'flex' : 'none';\n\nconst captionConsent = document.getElementById('caption-consent');\nconst statusConsent = document.getElementById('status-consent');\nconst buttonConsent = document.getElementById('button-consent');\n\nstatusConsent.style.display = config.options.consent ? 'flex' : 'none';\nbuttonConsent.style.display = config.options.consent ? 'flex' : 'none';\ncaptionConsent.style.display = config.options.consent ? 'flex' : 'none';\n\nconst captionHost = document.getElementById('caption-host');\nconst stringHost = document.getElementById('string-host');\nconst displayHost = document.getElementById('active-status');\nconst buttonHostEnable = document.getElementById('active-button-enable');\nconst buttonHostDisable = document.getElementById('active-button-disable');\n\ncaptionHost.style.display = config.options.host ? 'flex' : 'none';\nstringHost.style.display = config.options.hostString ? 'flex' : 'none';\ndisplayHost.style.display = config.options.host ? 'flex' : 'none';\nbuttonHostEnable.style.display = config.options.host ? 'flex' : 'none';\nbuttonHostDisable.style.display = config.options.host ? 'flex' : 'none';\n\nconst captionToolbar = document.getElementById('caption-toolbar');\nconst statusToolbar = document.getElementById('status-toolbar');\nconst buttonToolbar = document.getElementById('button-toolbar');\n\ncaptionToolbar.style.display = config.options.toolbar ? 'flex' : 'none';\nstatusToolbar.style.display = config.options.toolbar ? 'flex' : 'none';\nbuttonToolbar.style.display = config.options.toolbar ? 'flex' : 'none';\n\nconst captionDev = document.getElementById('caption-dev');\nconst statusHosts = document.getElementById('status-hosts');\nconst buttonResetHosts = document.getElementById('button-reset-hosts');\n\ncaptionDev.style.display = config.options.dev ? 'flex' : 'none';\nstatusHosts.style.display = config.options.dev ? 'flex' : 'none';\nbuttonResetHosts.style.display = config.options.dev ? 'flex' : 'none';\n\nconst captionVersion = document.getElementById('caption-version');\nconst displayVersion = document.getElementById('display-version');\n\ncaptionVersion.style.display = config.options.dev ? 'flex' : 'none';\ndisplayVersion.style.display = config.options.dev ? 'flex' : 'none';\n\n/**\n * Settings\n */\nconst getSettings = () => {\n  StorageController.getSettings()\n    .then((settings) => {\n      displaySettings.value = JSON.stringify(settings);\n\n      statusEnabled.textContent = settings.enabled;\n      buttonEnabled.textContent = settings.enabled ? 'disable' : 'enable';\n\n      statusToolbar.textContent = settings.toolbar;\n      buttonToolbar.textContent = settings.toolbar ? 'hide' : 'show';\n\n      statusConsent.textContent = settings.consent;\n      buttonConsent.textContent = settings.consent ? 'take' : 'give';\n    })\n    .catch((error) => {\n      displaySettings.value = (error);\n    });\n};\n\nconst getCurrentHostSettings = () => {\n\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n\n    const currentHostname = new URL(tabs[0].url).hostname;\n\n    StorageController.getHostSettings(currentHostname)\n      .then((settings) => {\n        stringHost.value = JSON.stringify(settings);\n\n        displayHost.textContent = settings.enabled === null ? 'not set' : settings.enabled;\n\n        buttonHostEnable.textContent = 'enable';\n        buttonHostDisable.textContent = 'disable';\n\n      })\n      .catch((error) => {\n        display.value = (error);\n      });\n\n  });\n\n};\n\nStorageController.getHosts()\n  .then((hosts) => {\n    statusHosts.textContent = 'hosts: '+hosts.length;\n  });\n\ngetSettings();\ngetCurrentHostSettings();\n\n/**\n * Enabled\n */\nbuttonEnabled.addEventListener('click', () => {\n\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n\n    chrome.tabs.sendMessage(tabs[0].id, { command: 'enabled' });\n\n  });\n\n});\n\nchrome.runtime.onMessage.addListener((settings) => {\n  if (settings.enabled === undefined) return;\n  StorageController.getSettings()\n    .then((_settings) => {\n      displaySettings.value = JSON.stringify(_settings);\n      statusEnabled.textContent = _settings.enabled;\n      buttonEnabled.textContent = _settings.enabled ? 'disable' : 'enable';\n    })\n    .catch((error) => {\n      displaySettings.value = (error);\n    });\n});\n\n/**\n * Consent\n */\nbuttonConsent.addEventListener('click', () => {\n\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n\n    chrome.tabs.sendMessage(tabs[0].id, { command: 'consent' });\n\n  });\n\n});\n\nchrome.runtime.onMessage.addListener((settings) => {\n  if (settings.consent === undefined) return;\n  StorageController.getSettings()\n    .then((_settings) => {\n      displaySettings.value = JSON.stringify(_settings);\n      statusConsent.textContent = _settings.consent;\n      buttonConsent.textContent = _settings.consent ? 'take' : 'give';\n    })\n    .catch((error) => {\n      displaySettings.value = (error);\n    });\n});\n\n/**\n * Toolbar\n */\nbuttonToolbar.addEventListener('click', () => {\n\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n\n    chrome.tabs.sendMessage(tabs[0].id, { command: 'toolbar' });\n\n  });\n\n});\n\nchrome.runtime.onMessage.addListener((settings) => {\n  if (settings.toolbar === undefined) return;\n  StorageController.getSettings()\n    .then((_settings) => {\n      displaySettings.value = JSON.stringify(_settings);\n      statusToolbar.textContent = _settings.toolbar;\n      buttonToolbar.textContent = _settings.toolbar ? 'hide' : 'show';\n    })\n    .catch((error) => {\n      displaySettings.value = (error);\n    });\n});\n\n/**\n * Hosts\n */\nbuttonHostEnable.addEventListener('click', () => {\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n    chrome.tabs.sendMessage(tabs[0].id, { command: 'host-enable' });\n  });\n});\nbuttonHostDisable.addEventListener('click', () => {\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n    chrome.tabs.sendMessage(tabs[0].id, { command: 'host-disable' });\n  });\n});\n\nchrome.runtime.onMessage.addListener((settings) => {\n  if (settings.host === undefined) return;\n  displayHost.textContent = settings.host.enabled;\n  stringHost.value = JSON.stringify(settings.host);\n});\n\n/**\n * Reset hosts\n */\nbuttonResetHosts.addEventListener('click', () => {\n  StorageController.resetAllHosts();\n  getCurrentHostSettings();\n});\n\n/**\n * Version\n */\ndisplayVersion.textContent = manifest.version;\n"]}